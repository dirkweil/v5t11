<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="/WEB-INF/templates/leitstand.xhtml">
  <ui:param name="title" value="Stellwerk ${stellwerkPresenter.stellwerk.bereich}"/>
  <ui:define name="content">
    <p:remoteCommand name="elementClicked" action="${stellwerkPresenter.elementClicked}"/>

    <h:panelGroup id="stellwerk" layout="block" styleClass="stellwerk">
      <ui:repeat var="zeile" value="${stellwerkPresenter.stellwerk.zeilen}">
        <ui:repeat var="element" value="${zeile.elemente}">
          <canvas id="${element.uiId}"
                  width="1000" height="1000"
                  style="grid-row-start: ${element.zeilenNr}; grid-column-start: ${element.spaltenNr}"
                  onclick="elementClicked([{name:'uiId', value:'${element.uiId}'}])">
          </canvas>
        </ui:repeat>
      </ui:repeat>
    </h:panelGroup>

    <h:outputStylesheet name="stellwerk.css"/>
    <h:outputScript name="stellwerk.js"/>

    <!--    <f:websocket channel="stellwerk/xyz" onmessage="updateElemente"/>-->

  </ui:define>

  <ui:define name="extra">
    Hier kommen die Steuerbuttons hin
  </ui:define>
</ui:composition>
</html>
